{"ast":null,"code":"var _jsxFileName = \"D:\\\\WorkSpace\\\\React_Guro_2025\\\\test11_0802\\\\src\\\\contexts\\\\SeatBookingContext.jsx\",\n  _s = $RefreshSig$();\n// src/contexts/SeatBookingContext.js\nimport { createContext, useReducer } from 'react';\nimport { handleActions } from 'redux-actions';\n\n// 좌석 상태\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SEAT_STATUS = {\n  AVAILABLE: 'available',\n  SELECTED: 'selected',\n  RESERVED: 'reserved',\n  BLOCKED: 'blocked'\n};\n\n// 액션 타입\nexport const SELECT_SEAT = 'SELECT_SEAT';\nexport const DESELECT_SEAT = 'DESELECT_SEAT';\nexport const RESET_SEATS = 'RESET_SEATS';\nexport const INITIALIZE_SEATS = 'INITIALIZE_SEATS';\n\n// Context 생성\nexport const SeatBookingContext = /*#__PURE__*/createContext();\n\n// 좌석 데이터 생성 함수\nconst generateInitialSeats = (rows = 8, seatsPerRow = 12) => {\n  const generatedSeats = [];\n  for (let r = 0; r < rows; r++) {\n    const rowId = String.fromCharCode(65 + r);\n    for (let s = 1; s <= seatsPerRow; s++) {\n      let status = SEAT_STATUS.AVAILABLE;\n      if (s === Math.floor(seatsPerRow / 2) || s === Math.floor(seatsPerRow / 2) + 1) {\n        status = SEAT_STATUS.BLOCKED;\n      }\n      generatedSeats.push({\n        id: `${rowId}-${s}`,\n        status,\n        rowId,\n        seatId: s\n      });\n    }\n  }\n  //console.log(\"generatedSeats\", generatedSeats)\n  return generatedSeats;\n};\n\n// 초기 상태\nconst initialSeatState = {\n  seats: generateInitialSeats(),\n  selectedSeats: []\n};\n\n// handleActions 리듀서 정의\nconst seatReducer = handleActions({\n  [INITIALIZE_SEATS]: (state, action) => ({\n    ...state,\n    seats: action.payload,\n    selectedSeats: []\n  }),\n  [SELECT_SEAT]: (state, action) => {\n    const {\n      rowId,\n      seatId\n    } = action.payload;\n    const seatToSelectId = `${rowId}-${seatId}`;\n    if (state.selectedSeats.find(s => s.id === seatToSelectId)) {\n      return state;\n    }\n    const newSeats = state.seats.map(seat => seat.id === seatToSelectId && seat.status === SEAT_STATUS.AVAILABLE ? {\n      ...seat,\n      status: SEAT_STATUS.SELECTED\n    } : seat);\n    return {\n      ...state,\n      seats: newSeats,\n      selectedSeats: [...state.selectedSeats, {\n        id: seatToSelectId,\n        rowId,\n        seatId\n      }]\n    };\n  },\n  [DESELECT_SEAT]: (state, action) => {\n    const {\n      rowId,\n      seatId\n    } = action.payload;\n    const seatToDeselectId = `${rowId}-${seatId}`;\n    const newSeats = state.seats.map(seat => seat.id === seatToDeselectId && seat.status === SEAT_STATUS.SELECTED ? {\n      ...seat,\n      status: SEAT_STATUS.AVAILABLE\n    } : seat);\n    return {\n      ...state,\n      seats: newSeats,\n      selectedSeats: state.selectedSeats.filter(s => s.id !== seatToDeselectId)\n    };\n  },\n  [RESET_SEATS]: () => ({\n    seats: generateInitialSeats(),\n    selectedSeats: []\n  })\n}, initialSeatState);\n\n// Provider 컴포넌트\nexport const SeatBookingProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(seatReducer, initialSeatState);\n  return /*#__PURE__*/_jsxDEV(SeatBookingContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(SeatBookingProvider, \"Bjf1wbzNOD1PNuBN0NIqEvDjFmM=\");\n_c = SeatBookingProvider;\nvar _c;\n$RefreshReg$(_c, \"SeatBookingProvider\");","map":{"version":3,"names":["createContext","useReducer","handleActions","jsxDEV","_jsxDEV","SEAT_STATUS","AVAILABLE","SELECTED","RESERVED","BLOCKED","SELECT_SEAT","DESELECT_SEAT","RESET_SEATS","INITIALIZE_SEATS","SeatBookingContext","generateInitialSeats","rows","seatsPerRow","generatedSeats","r","rowId","String","fromCharCode","s","status","Math","floor","push","id","seatId","initialSeatState","seats","selectedSeats","seatReducer","state","action","payload","seatToSelectId","find","newSeats","map","seat","seatToDeselectId","filter","SeatBookingProvider","children","_s","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/WorkSpace/React_Guro_2025/test11_0802/src/contexts/SeatBookingContext.jsx"],"sourcesContent":["// src/contexts/SeatBookingContext.js\nimport { createContext, useReducer } from 'react';\nimport { handleActions } from 'redux-actions';\n\n// 좌석 상태\nexport const SEAT_STATUS = {\n  AVAILABLE: 'available',\n  SELECTED: 'selected',\n  RESERVED: 'reserved',\n  BLOCKED: 'blocked',\n};\n\n// 액션 타입\nexport const SELECT_SEAT = 'SELECT_SEAT';\nexport const DESELECT_SEAT = 'DESELECT_SEAT';\nexport const RESET_SEATS = 'RESET_SEATS';\nexport const INITIALIZE_SEATS = 'INITIALIZE_SEATS';\n\n// Context 생성\nexport const SeatBookingContext = createContext();\n\n// 좌석 데이터 생성 함수\nconst generateInitialSeats = (rows = 8, seatsPerRow = 12) => {\n  const generatedSeats = [];\n  for (let r = 0; r < rows; r++) {\n    const rowId = String.fromCharCode(65 + r);\n    for (let s = 1; s <= seatsPerRow; s++) {\n      let status = SEAT_STATUS.AVAILABLE;\n      if (s === Math.floor(seatsPerRow / 2) || s === Math.floor(seatsPerRow / 2) + 1) {\n        status = SEAT_STATUS.BLOCKED;\n      }\n      generatedSeats.push({\n        id: `${rowId}-${s}`,\n        status,\n        rowId,\n        seatId: s,\n      });\n    }\n  }\n  //console.log(\"generatedSeats\", generatedSeats)\n  return generatedSeats;\n};\n\n// 초기 상태\nconst initialSeatState = {\n  seats: generateInitialSeats(),\n  selectedSeats: [],\n};\n\n// handleActions 리듀서 정의\nconst seatReducer = handleActions(\n  {\n    [INITIALIZE_SEATS]: (state, action) => ({\n      ...state,\n      seats: action.payload,\n      selectedSeats: [],\n    }),\n\n    [SELECT_SEAT]: (state, action) => {\n      const { rowId, seatId } = action.payload;\n      const seatToSelectId = `${rowId}-${seatId}`;\n      if (state.selectedSeats.find((s) => s.id === seatToSelectId)) {\n        return state;\n      }\n\n      const newSeats = state.seats.map((seat) =>\n        seat.id === seatToSelectId && seat.status === SEAT_STATUS.AVAILABLE\n          ? { ...seat, status: SEAT_STATUS.SELECTED }\n          : seat\n      );\n\n      return {\n        ...state,\n        seats: newSeats,\n        selectedSeats: [...state.selectedSeats, { id: seatToSelectId, rowId, seatId }],\n      };\n    },\n\n    [DESELECT_SEAT]: (state, action) => {\n      const { rowId, seatId } = action.payload;\n      const seatToDeselectId = `${rowId}-${seatId}`;\n\n      const newSeats = state.seats.map((seat) =>\n        seat.id === seatToDeselectId && seat.status === SEAT_STATUS.SELECTED\n          ? { ...seat, status: SEAT_STATUS.AVAILABLE }\n          : seat\n      );\n\n      return {\n        ...state,\n        seats: newSeats,\n        selectedSeats: state.selectedSeats.filter((s) => s.id !== seatToDeselectId),\n      };\n    },\n\n    [RESET_SEATS]: () => ({\n      seats: generateInitialSeats(),\n      selectedSeats: [],\n    }),\n  },\n  initialSeatState\n);\n\n// Provider 컴포넌트\nexport const SeatBookingProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(seatReducer, initialSeatState);\n\n  return (\n    <SeatBookingContext.Provider value={{ state, dispatch }}>\n      {children}\n    </SeatBookingContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}